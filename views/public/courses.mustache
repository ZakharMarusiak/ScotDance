{{> partials/head}}

<h1>Available Courses</h1>

{{#error}}
  <div class="alert alert-danger">{{error}}</div>
{{/error}}

<div class="row row-cols-1 row-cols-md-3 g-4">
  {{#courses}}
  <div class="col">
    <div class="card h-100 shadow-sm">
      {{#image}}
        <img src="/{{image}}" class="card-img-top" style="object-fit: cover; height: 200px;" alt="Course Image">
      {{/image}}
      {{^image}}
        <div class="bg-secondary text-white text-center py-5" style="height: 200px;">No Image</div>
      {{/image}}

      <div class="card-body d-flex flex-column justify-content-between">
        <div>
          <h5 class="card-title">{{name}}</h5>
          <p class="card-text">{{startDateFormatted}} ⏤ {{endDateFormatted}}</p>
        </div>
        <div class="mt-2 d-flex justify-content-between align-items-center">
          <span class="badge {{badgeClass}}">{{status}}</span>
          <a href="/courses/{{_id}}" class="btn btn-outline-primary btn-sm">More details</a>
        </div>
      </div>
    </div>
  </div>
  {{/courses}}
</div>

{{^courses.length}}
  <p class="text-muted">No active courses available.</p>
{{/courses.length}}

{{> partials/footer}}